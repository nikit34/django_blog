{% extends 'base.html' %}

{% block title %} Blog {% endblock title %}
{% block blogactive %} active {% endblock blogactive %}

{% load static %}


<script src="{% static 'js/base.js' %}"></script>

{% block body %}

<div class="container my-3">
    {% for post in posts %}
        <div class="row border border-dark py-3 my-3 rounded shadow-sm">
            <div class="col">
              Article by <strong class="text-primary">{{ post.author }}</strong> ({{ post.views }} views)
              <h3 class="mt-3">{{ post.title }}</h3>
              <div class="mb-2">{{ post.datetime }}</div>
              <p class="card-text mb-auto"><div class="preview">{{ post.content|safe|truncatechars:400 }}</div></p>
              <div class="my-2">
                <a href="/{{post.slug}}" role="button" class="btn btn-primary">Continue reading</a>
              </div>
            </div>
            {% if post.image %}
              <div class="col home-post-image mx-3">
                <img src="{{ post.image.url }}">
              </div>
            {% endif %}
        </div>
    {% endfor %}
</div>

{% endblock body %}